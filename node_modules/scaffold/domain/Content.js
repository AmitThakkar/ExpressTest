"use strict";

exports.getText = function () {
    return '\
"use strict";\n\n\
var mongoose = require("mongoose");\n\
var ObjectId = mongoose.Types.ObjectId;\n\n\
var {{domainName}} = new mongoose.Schema({{schema}});\n\n\
{{domainName}}.statics.findById = function (id, projection, callback) {\n\
    if (!callback) {\n\
        callback = projection;\n\
        projection = {};\n\
    }\n\
    this.find({ _id: ObjectId(id)}, projection, callback);\n\
};\n\
{{domainName}}.statics.findAll = function (max, offset, projection, callback) {\n\
    if (!callback) {\n\
        callback = projection;\n\
        projection = {};\n\
    }\n\
    this.find({}, projection, {limit: max, skip: offset}, callback);\n\
};\n\
{{domainName}}.statics.removeById = function (id, callback) {\n\
    this.remove({ _id: ObjectId(id)}, callback);\n\
};\n\
{{domainName}}.statics.update{{domainName}} = function ({{domainNameInSmallLetter}}CO, callback) {\n\
    var _id = {{domainNameInSmallLetter}}CO._id;\n\
    delete {{domainNameInSmallLetter}}CO._id;\n\
    this.update({ _id: ObjectId(_id)}, {{domainNameInSmallLetter}}CO, {multi: false, upsert: false}, callback);\n\
};\n\
\n\
module.exports = mongoose.model("{{domainName}}", {{domainName}});'
};