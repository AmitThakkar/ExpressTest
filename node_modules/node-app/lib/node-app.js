function NodeServer() {
    var _ = require('underscore');
    var express = require('express');
    var application = express();
    application.use(express.bodyParser());
    var appConfig = require('./../../../config/appConfig');
    var IOC = require('./IOC');
    application.config = _.extend(appConfig.common, appConfig[application.get('env')]); // set enviroment variable??
    this.start = function () {
        application.listen(application.config.port);
        console.log("---> Server Url: ", application.config.serverUrl + application.config.port);
    };
    IOC.initializeApplication.call(application);
}

exports.createNodeServer = function () {
    return new NodeServer()
};